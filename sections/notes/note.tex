% !TEX program = lualatex
\documentclass[../../main.tex]{subfiles}

\begin{document}
	

\subsection*{Mender}%
\label{sub:mender}

Can be created from default debian images, so its less intrusive to
existing workflow
Images as a result of this is huge (requires 8 GB)
https://docs.mender.io/2.2/getting-started/quickstart-with-raspberry-pi
support Yocto as part of their layers, which should reduce image footprint
Will require a new workflow, toolchain, etc.
Huge community in both Yocto and Mender

\subsection*{Pantahub}%
\label{sub:pantahub}

Written in C and make use of LXC containers which are also written in C giving
the complete project an overall very small footprint
Less mature, at time of writing there still several todo in their documantation.
Also a smaller community.

\subsection*{Yocto}%
\label{sub:yocto}

Uses layers, makes building images for specific usecases easier as necessary layers are included.
Greater set of requirements, for host build system, Arch linux not working.
Allows for delta updates in mender to reduce bandwith in Over-The-Air  updates.\\
Makes it easier to transistion hardware.\\
Cross-Prelink: - Generate link tables for dynamic linking.\\


Their crosscompiler is running on docker. Had make own docker image for poky to compile.
Recommended setup is also to build on host. Look into qemu building.\\
Bitbake scales very well with multiple cores.
Poky base image takes up alot of space 50GB plus to build from scratch.\\

Guy describes using yocto for RPI\\
https://jumpnowtek.com/rpi/Raspberry-Pi-Systems-with-Yocto.html\\

SSTATE CACHING, working - Must be turned on in \texttt{conf/local.conf}.










\subsection*{Tests}%
\label{sub:tests}

\begin{itemize}
	\item Build time\\
		Yocto vs Mender convert
	\item Image size\\
		Yocto vs Mender convert
\end{itemize}

\begin{figure}[h]
\begin{center}
	\usetikzlibrary {arrows.meta,graphs,graphdrawing} \usegdlibrary {layered}
	\tikz []
		\graph[layered layout,components go down ,component sep=2pt]{
			User ->
			Custom API[draw]
			// [layered layout,components go right] {
				Research projects[draw] // [layered layout, components go down]{
					List of assigned devices,
					Users connected to project
				};
				Devices1[draw] // [layered layout, components go down]{
					Health status
				};
				Deploy assignments[draw] // [layered layout, components go down]{
					Invoke mender update module
				};
			} ->
			Mender API[draw]
			// [layered layout,components go right] {
				Devices2, Deployment, Update image
			};
		};
\end{center}
\caption{A caption}%
\label{fig:}
\end{figure}

\end{document}
